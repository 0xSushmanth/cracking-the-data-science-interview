source('~/.active-rstudio-document', echo=TRUE)
View(data1)
source('~/.active-rstudio-document', echo=TRUE)
data1$agecat <- cut(data1$Age, c(-Inf, 0, 18, 24, 34, 44, 54, 64, Inf))
View(data1)
summary(data1)
install.packages("doBy")
library("doBy")
siterange <- function(x){c(length(x), min(x), mean(x), max(x))}
summaryBy(Age ~ agecat, data = data1, FUN = siterange)
summaryBy(Gender + Signed_In + Impressions + Clicks ~ agecat, data = data1)
library(ggplot2)
ggplot(data1, aes(x=Impressions, fill=agecat)) + geom_histogram(binwidth = 1)
ggplot(data1, aes(x=agecat, y=Impressions, fill=agecat)) + geom_boxplot()
data1$hasimps <- cut(data1$Impressions, c(-Inf, 0, Inf))
summaryBy(Clicks ~ hasimps, data = data1, FUN = siterange)
ggplot(subset(data1, Impressions > 0), aes(x = Clicks / Impressions, colour = agecat)) + geom_density()
ggplot(subset(data1, Clicks > 0), aes(x = Clicks / Impressions, colour = agecat)) + geom_density()
ggplot(subset(data1, Clicks > 0), aes(x = agecat, y = Clicks, fill = agecat)) + geom_boxplot()
ggplot(subset(data1, Clicks > 0), aes(x = Clicks, colour = agecat)) + geom_density()
data1$scode[data1$Impressions==0] <- 'NoImps'
data1$scode[data1$Impressions>0] <- 'Imps'
data1$scode[data1$Clicks>0] <- 'Clicks'
data1$scode <- factor(data1$scode)
clen <- function(x){c(length(x))}
head(data1)
etable <- summaryBy(Impressions ~ scode + Gender + agecat, data = data1, FUN = clen)
View(etable)
source('~/Desktop/Cracking-The-DS-Interview/Doing-Data-Science-Straight-Talk-From-The-Front-Line/C2-Brooklyn-Data.R', echo=TRUE)
bk <- read.xls("rollingsales_brooklyn.xls", pattern="BOROUGH")
bk <- read.csv("rollingsales_brooklyn.csv", pattern="BOROUGH")
install.packages("gdata")
require(gdata)
bk <- read.xls("rollingsales_brooklyn.xls", pattern="BOROUGH")
list.files()
setwd('Desktop/Cracking-The-DS-Interview/Doing-Data-Science-Straight-Talk-From-The-Front-Line')
bk <- read.xls("rollingsales_brooklyn.xls", pattern="BOROUGH")
head(bk)
summary(bk)
bk$SALE.PRICE.N <- as.numeric(gsub("[^[:digit:]]", "", bk$SALE.PRICE))
count(is.na(bk$SALE.PRICE.N))
bk$gross.sqft <- as.numeric(gsub("[^[:digit:]]", "", bk$GROSS.SQUARE.FEET))
bk$land.sqft <- as.numeric(gsub("[^[:digit:]]", "", bk$LAND.SQUARE.FEET))
attach(bk)
hist(SALE.PRICE.N)
hist(SALE.PRICE.N[SALE.PRICE.N > 0])
hist(gross.sqft[SALE.PRICE.N == 0])
detach(bk)
bk.sale <- bk[bk$SALE.PRICE.N != 0,]
plot(bk.sale$gross.sqft, bk.sale$SALE.PRICE.N)
plot(log(bk.sale$gross.sqft), log(bk.sale$SALE.PRICE.N))
bk.homes <- bk.sale[which(grepl("FAMILY",
bk.sale$BUILDING.CLASS.CATEGORY)),]
plot(log(bk.homes$gross.sqft), log(bk.homes$SALE.PRICE.N))
